import{a as c}from"./chunk-L5TQBNKQ.js";import{Sb as a,Tb as l,Vb as u,W as d,Z as h}from"./chunk-3BHHYQXT.js";var T=(()=>{class o{constructor(e){this._http=e,this.url=c.url}getToken(){return localStorage.getItem("token")}updateErrorReport(e,t,s){let i=new FormData;i.append("category",t.category),i.append("type",t.type),i.append("module",t.module),i.append("description",t.description),i.append("steps",t.steps),t.publicationId&&i.append("publicationId",t.publicationId),t.reportedUserId&&i.append("reportedUserId",t.reportedUserId),t.status&&i.append("status",t.status),s&&i.append("file",s);let p=new a({Authorization:this.getToken()||""});return this._http.put(`${this.url}/error-reports/${e}`,i,{headers:p})}addErrorReport(e,t){let s=new FormData;s.append("category",e.category),s.append("type",e.type),s.append("module",e.module),s.append("description",e.description),s.append("steps",e.steps),e.publicationId&&s.append("publicationId",e.publicationId),e.reportedUserId&&s.append("reportedUserId",e.reportedUserId),t&&s.append("file",t);let i=new a({Authorization:this.getToken()||""});return this._http.post(this.url+"error-report",s,{headers:i})}getErrorReports(e,t,s,i,p,r){let g=new a({"Content-Type":"application/json",Authorization:this.getToken()||""}),n=new l().set("page",e.toString()).set("pageSize",t.toString());return p&&(n=n.set("category",p)),s&&(n=n.set("type",s)),i&&(n=n.set("module",i)),r&&(n=n.set("status",r)),this._http.get(`${this.url}/error-reports`,{params:n,headers:g})}deleteErrorReport(e){let t=new a({Authorization:this.getToken()||""});return this._http.delete(`${this.url}/error-reports/${e}`,{headers:t})}getFile(e){let t=new a({Authorization:this.getToken()||""});return this._http.get(`${this.url}/files/${e}`,{headers:t,responseType:"blob"})}sendWarningToUser(e,t){let s=new a({"Content-Type":"application/json",Authorization:this.getToken()||""}),i={userId:e,message:t};return this._http.post(`${this.url}/admin/send-warning`,i,{headers:s})}resolveComplaint(e,t,s){let i=new a({"Content-Type":"application/json",Authorization:this.getToken()||""}),p={reporterId:t,message:s};return this._http.post(`${this.url}/error-reports/${e}/resolve`,p,{headers:i})}static{this.\u0275fac=function(t){return new(t||o)(h(u))}}static{this.\u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{T as a};
