import{a as I}from"./chunk-DQQYKZJZ.js";import{a as be}from"./chunk-JES6CQQD.js";import{c as de}from"./chunk-B2YIIQ5G.js";import{a as T}from"./chunk-DVMYF3ZI.js";import{a as me}from"./chunk-I2GM3MO7.js";import{a as _}from"./chunk-FGJ5GDKF.js";import{a as ge}from"./chunk-P5FOJTOO.js";import{a as he}from"./chunk-RHRI3TQF.js";import{a as ue,b as _e}from"./chunk-QSZSAD22.js";import{a as Me}from"./chunk-4MSQXD5K.js";import{a as ve}from"./chunk-NZNPCDGT.js";import{d as se}from"./chunk-DEF5ACRI.js";import{a as fe}from"./chunk-GGPFJYSD.js";import{a as E}from"./chunk-JI6LXSDG.js";import{a as f}from"./chunk-43WXPJ7N.js";import{a as ce}from"./chunk-L5TQBNKQ.js";import{B as re,C as ae}from"./chunk-GWDAXWU7.js";import{B as N,Da as c,Gb as X,H as V,Hb as Z,Jb as Q,Na as r,Oa as a,Pa as s,Ta as G,Ua as D,Va as u,Vb as q,W as B,Wb as ee,X as y,Xb as te,Yb as ne,Z as w,Zb as ie,_ as F,_b as oe,ac as le,ba as P,bc as v,c as R,ca as k,cc as pe,e as Ie,eb as p,ec as U,f as Y,fb as L,na as $,nb as m,ob as K,pa as d,pb as J,sa as C,ta as S,u as H,ua as O,wb as W,ya as h}from"./chunk-3BHHYQXT.js";var Le=Ie((z,De)=>{(function(e,l){typeof z=="object"&&typeof De<"u"&&typeof R=="function"?l(Me()):typeof define=="function"&&define.amd?define(["../moment"],l):l(e.moment)})(z,function(e){"use strict";var l="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),t="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,i=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(M,j){return M?/-MMM-/.test(j)?t[M.month()]:l[M.month()]:l},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}ยบ/,ordinal:"%d\xBA",week:{dow:1,doy:4},invalidDate:"Fecha inv\xE1lida"});return i})});function Ae(e){let l=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return l===1?1:o===0&&t!==0&&t%1e6===0&&n===0||!(o>=0&&o<=5)?4:5}var Ce=["es",[["a.\xA0m.","p.\xA0m."],void 0,void 0],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",Ae];var xe=(()=>{class e{constructor(){this.title="Footer Component"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=S({type:e,selectors:[["footer_rd"]],standalone:!1,decls:20,vars:0,consts:[["id","footer",1,"pt-0","pb-4","bg-secondary"],[1,"mt-0"],[1,"container"],[1,"row"],[1,"col-12","col-lg","text-start","text-light"],["href","https://www.uis.edu.co/","target","_blank"],["src","assets/images/logouis.png","alt","UIS",1,"d-block","mb-2",2,"height","60px"],["href","http://cormoran.uis.edu.co/eisi/",1,"text-light"],[1,"col-12","col-lg","text-end","text-light"],["href","http://simon.uis.edu.co/","target","_blank"],["src","assets/images/simonlogo.png","alt","SIMON",1,"text-end","mb-2",2,"height","60px"]],template:function(n,o){n&1&&(r(0,"footer",0),s(1,"hr",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),s(6,"img",6),a(),r(7,"a",7)(8,"strong"),p(9,"Escuela de ingenier\xEDa de sistemas e inform\xE1tica"),a()(),r(10,"p"),p(11,"Carrera 27 calle 9 UIS. Bucaramanga - Colombia "),a()(),r(12,"div",8)(13,"a",9),s(14,"img",10),a(),r(15,"p")(16,"strong"),p(17,"Administrador"),a(),s(18,"br"),p(19," reddinamica.simon@gmail.com"),a()()()()())},encapsulation:2})}}return e})();var we=()=>["/"],Ue=()=>["/login"],ze=()=>["/registro"],ye=()=>["/inicio"],Re=(e,l)=>({"fa-moon":e,"fa-sun":l}),Ye=e=>["/perfil",e],He=()=>["/mensajes"],Ve=()=>["admin","delegated_admin","lesson_manager"],Be=()=>["/seguridad"],$e=()=>["/error/report-error"],Ge=()=>["/configuracion"],Ke=()=>["/admin"];function Je(e,l){e&1&&(r(0,"nav",5)(1,"div",6)(2,"a",7),s(3,"img",8),r(4,"h1",9),p(5,"RedDin\xE1mica"),a()(),r(6,"button",10),s(7,"span",11),a(),r(8,"div",12)(9,"ul",13)(10,"li",14)(11,"a",15),p(12,"Iniciar sesi\xF3n"),a()(),r(13,"li",16)(14,"a",17),p(15,"Crear una cuenta"),a()()()()()()),e&2&&(d(2),c("routerLink",m(3,we)),d(9),c("routerLink",m(4,Ue)),d(3),c("routerLink",m(5,ze)))}function We(e,l){e&1&&s(0,"div",18)}function Xe(e,l){if(e&1&&s(0,"img",56),e&2){let t=u(2);c("src",t.url+"get-image-user/"+t.identity.picture+"?v="+t.profilePicVersion,$)}}function Ze(e,l){e&1&&s(0,"img",57)}function Qe(e,l){if(e&1&&(r(0,"span",58),p(1),a()),e&2){let t=u(2);d(),L(t.unviewMessages)}}function qe(e,l){e&1&&(r(0,"li",32)(1,"a",59),s(2,"i",60),r(3,"span",35),p(4,"Panel de administraci\xF3n"),a()()()),e&2&&(d(),c("routerLink",m(1,Ke)))}function et(e,l){if(e&1&&(r(0,"span",61),p(1),a()),e&2){let t=u(2);d(),L(t.unreadCountDisplay)}}function tt(e,l){if(e&1){let t=G();r(0,"nav",19)(1,"div",20)(2,"a",21),s(3,"img",8),r(4,"h4",9),p(5,"RedDin\xE1mica"),a()(),r(6,"button",22),s(7,"span",11),a(),r(8,"div",23)(9,"ul",13)(10,"li",24)(11,"button",25),D("click",function(){P(t);let o=u();return k(o.toggleTheme())}),s(12,"i",26),a()(),r(13,"li",27)(14,"a",28)(15,"div",29),h(16,Xe,1,1,"img",30)(17,Ze,1,0,"img",31),a(),r(18,"span"),p(19),a()()(),r(20,"li",32)(21,"a",33),s(22,"i",34),r(23,"span",35),p(24,"Inicio"),a()()(),r(25,"li",32)(26,"a",36),s(27,"i",37),r(28,"span",35),p(29,"Mensajes"),a(),h(30,Qe,2,1,"span",38),a()(),h(31,qe,5,2,"li",39),r(32,"li",40)(33,"a",41),D("click",function(o){P(t);let i=u();return k(i.onBellClick(o))}),s(34,"i",42),h(35,et,2,1,"span",43),a(),r(36,"div",44),s(37,"app-notifications"),a()(),r(38,"li",45)(39,"a",46),s(40,"i",47),a(),r(41,"div",48)(42,"a",49),s(43,"i",50),p(44," Opciones de seguridad "),a(),s(45,"div",51),r(46,"a",49),s(47,"i",52),p(48," Reportar un problema o sugerencia "),a(),s(49,"div",51),r(50,"a",49),s(51,"i",53),p(52," Configuraci\xF3n "),a(),s(53,"div",51),r(54,"a",54),D("click",function(){P(t);let o=u();return k(o.logout())}),s(55,"i",55),p(56," Cerrar sesi\xF3n "),a()()()()()()()}if(e&2){let t=u();d(2),c("routerLink",m(15,ye)),d(10),c("ngClass",J(16,Re,!t.isDarkMode,t.isDarkMode)),d(),c("routerLink",K(19,Ye,t.identity==null?null:t.identity._id)),d(3),c("ngIf",t.identity==null?null:t.identity.picture),d(),c("ngIf",!(t.identity!=null&&t.identity.picture)),d(2),L(t.identity==null?null:t.identity.name),d(2),c("routerLink",m(21,ye)),d(5),c("routerLink",m(22,He)),d(4),c("ngIf",t.unviewMessages>0),d(),c("ngIf",m(23,Ve).includes(t.identity.role)),d(4),c("ngIf",t.unreadCount>0),d(7),c("routerLink",m(24,Be)),d(4),c("routerLink",m(25,$e)),d(4),c("routerLink",m(26,Ge)),d(4),c("routerLink",m(27,we))}}function nt(e,l){e&1&&s(0,"div",62)}function it(e,l){e&1&&s(0,"footer_rd")}var Pe=(()=>{class e{constructor(t,n,o,i){this._userService=t,this._router=n,this.notificationService=o,this._messageService=i,this.title="RedDin\xE1mica",this.url=ce.url,this.unreadCount=0,this.unviewMessages=0,this.isDarkMode=!1,this.bellLastTap=0,this.profilePicVersion=new Date().getTime()}ngOnInit(){let t=localStorage.getItem("rd_theme");this.isDarkMode=t==="dark",this.applyThemeClass(),this.token=this._userService.getToken(),this.identity=this._userService.getIdentity(),this.identity&&this.token&&(this.loadNotifications(),this.loadUnreadMessages(),this.startNotificationPolling(),this.startMessagePolling()),this.identitySubscription=this._userService.identityChanged.subscribe(n=>{this.identity=n,this.token=this._userService.getToken(),this.identity&&this.token?setTimeout(()=>{this.loadNotifications(),this.loadUnreadMessages(),this.startNotificationPolling(),this.startMessagePolling()},100):(this.unreadCount=0,this.unviewMessages=0,this.stopNotificationPolling(),this.stopMessagePolling())}),this.profilePicUpdateSubscription=this._userService.profilePictureUpdated.subscribe(()=>{this.identity=this._userService.getIdentity(),this.profilePicVersion=new Date().getTime()})}onBellClick(t){let n=Date.now();n-this.bellLastTap<350&&(t.preventDefault(),t.stopPropagation(),t.currentTarget?.closest(".dropdown")?.classList.remove("show"),this._router.navigate(["/notificaciones"])),this.bellLastTap=n}ngDoCheck(){let t=this._userService.getIdentity(),n=this._userService.getToken();t!==this.identity&&(this.identity=t),n!==this.token&&(this.token=n,this.identity&&this.token&&!this.notificationUpdateSubscription&&(this.loadNotifications(),this.loadUnreadMessages(),this.startNotificationPolling(),this.startMessagePolling()))}loadNotifications(){if(!this.identity){console.log("No hay identity disponible para cargar notificaciones"),this.unreadCount=0;return}if(!this._userService.getToken()){console.log("No hay token disponible para cargar notificaciones"),this.unreadCount=0;return}if(!this.identity.actived){console.log("Usuario no activado, no se cargan notificaciones"),this.unreadCount=0;return}this.notificationService.getUnreadCount().subscribe({next:n=>{this.unreadCount=n&&typeof n.unreadCount=="number"?n.unreadCount:0},error:()=>{this.unreadCount=0}})}loadUnreadMessages(){if(!this.identity){console.log("No hay identity disponible para cargar mensajes"),this.unviewMessages=0;return}let t=this._userService.getToken();if(!t){console.log("No hay token disponible para cargar mensajes"),this.unviewMessages=0;return}if(!this.identity.actived){console.log("Usuario no activado, no se cargan mensajes"),this.unviewMessages=0;return}this._messageService.getUnviewMessages(t).subscribe({next:n=>{this.unviewMessages=n&&typeof n.unviewed=="number"?n.unviewed:0,localStorage.setItem("unviewedMessages",String(this.unviewMessages))},error:n=>{console.error("Error al cargar mensajes no le\xEDdos:",n),this.unviewMessages=0}})}startNotificationPolling(){this.notificationUpdateSubscription=N(3e4).subscribe(()=>{this.loadNotifications()})}startMessagePolling(){this.messageUpdateSubscription=N(3e4).subscribe(()=>{this.loadUnreadMessages()})}stopNotificationPolling(){this.notificationUpdateSubscription&&this.notificationUpdateSubscription.unsubscribe()}stopMessagePolling(){this.messageUpdateSubscription&&this.messageUpdateSubscription.unsubscribe()}logout(){this._userService.clearIdentityAndToken(),this._router.navigate([""])}get unreadCountDisplay(){return this.unreadCount>99?"99+":String(this.unreadCount)}toggleTheme(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("rd_theme",this.isDarkMode?"dark":"light"),this.applyThemeClass()}applyThemeClass(){let t=document.documentElement;this.isDarkMode?t.classList.add("theme-dark"):t.classList.remove("theme-dark")}openP(){var n=window.open("https://forms.gle/n7jGyGgAM9ERfK4d9","_blank");n.opener=null}ngOnDestroy(){this.identitySubscription&&this.identitySubscription.unsubscribe(),this.profilePicUpdateSubscription&&this.profilePicUpdateSubscription.unsubscribe(),this.notificationUpdateSubscription&&this.notificationUpdateSubscription.unsubscribe(),this.messageUpdateSubscription&&this.messageUpdateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(C(f),C(v),C(me),C(E))}}static{this.\u0275cmp=S({type:e,selectors:[["app-root"]],standalone:!1,decls:6,vars:5,consts:[["id","header","class","navbar navbar-expand-lg navbar-dark bg-primary sticky-top fixed-top",4,"ngIf"],["class","rd-navbar-spacer",4,"ngIf"],["id","header-home","class","navbar navbar-expand-lg navbar-dark bg-primary sticky-top fixed-top py-0",4,"ngIf"],["class","rd-navbar-spacer rd-navbar-spacer--home",4,"ngIf"],[4,"ngIf"],["id","header",1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top","fixed-top"],[1,"container"],["href","#",1,"navbar-brand",3,"routerLink"],["src","assets/images/RDLogo2.png","alt","Logo RedDin\xE1mica",1,"me-2","d-inline"],[1,"d-inline","align-middle","rd","fw-bolder",2,"color","#ecec43"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["href","#","role","button",1,"btn","btn-secondary","w-100","my-2","my-sm-2",3,"routerLink"],[1,"nav-item","me-lg-2"],["href","#","role","button",1,"btn","btn-success","w-100","my-2","ms-lg-2","my-sm-2",3,"routerLink"],[1,"rd-navbar-spacer"],["id","header-home",1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","sticky-top","fixed-top","py-0"],[1,"container","bg-primary"],[1,"navbar-brand","me-2","pb-2",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"nav-item","d-flex","align-items-center","me-2"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"fas",3,"ngClass"],[1,"nav-item",2,"cursor","pointer",3,"routerLink"],[1,"nav-link","d-flex","align-items-center"],[1,"profile-picture-container","me-2"],["class","profile-picture","alt","Foto de perfil",3,"src",4,"ngIf"],["class","profile-picture","src","assets/images/user-default.png","alt","Imagen por defecto",4,"ngIf"],[1,"nav-item","d-flex","align-items-center"],[1,"nav-link","d-flex","align-items-center",3,"routerLink"],[1,"fas","fa-home",2,"font-size","1.5em"],[1,"mx-1"],[1,"nav-link","btn","d-flex","align-items-center",3,"routerLink"],[1,"fas","fa-envelope",2,"font-size","1.5em"],["class","badge rounded-pill bg-info text-dark",4,"ngIf"],["class","nav-item d-flex align-items-center",4,"ngIf"],[1,"nav-item","dropdown","d-flex","align-items-center",2,"position","relative"],["href","#","id","notificationDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","d-flex","align-items-center","position-relative",2,"cursor","pointer",3,"click"],[1,"fas","fa-bell",2,"font-size","1.5em"],["class","badge rounded-pill bg-danger text-white fw-bold position-absolute top-0 start-100","style","font-size: 0.7rem; width: 1.6em; height: 1.6em; display: inline-flex; align-items: center; justify-content: center; border: 2px solid #fff; border-radius: 999px; transform: translate(-85%, -35%);",4,"ngIf"],["aria-labelledby","notificationDropdown",1,"dropdown-menu","p-0","shadow-lg","border-0",2,"min-width","380px","max-width","400px","border-radius","12px","margin-top","8px","left","-350px !important","right","auto !important"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"fas","fa-bars",2,"font-size","1.5em"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-shield-alt","me-2"],[1,"dropdown-divider"],[1,"fas","fa-exclamation-circle","me-2"],[1,"fas","fa-cog","me-2"],[1,"dropdown-item",3,"click","routerLink"],[1,"fas","fa-sign-out-alt","me-2"],["alt","Foto de perfil",1,"profile-picture",3,"src"],["src","assets/images/user-default.png","alt","Imagen por defecto",1,"profile-picture"],[1,"badge","rounded-pill","bg-info","text-dark"],[1,"nav-link","btn","btn-primary","d-flex","align-items-center",3,"routerLink"],[1,"fas","fa-user-cog",2,"font-size","1.5em"],[1,"badge","rounded-pill","bg-danger","text-white","fw-bold","position-absolute","top-0","start-100",2,"font-size","0.7rem","width","1.6em","height","1.6em","display","inline-flex","align-items","center","justify-content","center","border","2px solid #fff","border-radius","999px","transform","translate(-85%, -35%)"],[1,"rd-navbar-spacer","rd-navbar-spacer--home"]],template:function(n,o){n&1&&(h(0,Je,16,6,"nav",0)(1,We,1,0,"div",1)(2,tt,57,28,"nav",2)(3,nt,1,0,"div",3),s(4,"router-outlet"),h(5,it,1,0,"footer_rd",4)),n&2&&(c("ngIf",!(o.identity&&o.token)),d(),c("ngIf",!(o.identity&&o.token)),d(),c("ngIf",o.identity&&o.token),d(),c("ngIf",o.identity&&o.token),d(2),c("ngIf",!(o.identity&&o.token)))},dependencies:[Z,Q,T,le,pe,xe],styles:[`#header[_ngcontent-%COMP%], #header-home[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1030!important;width:100%!important}body[_ngcontent-%COMP%]{padding-top:76px}body[_ngcontent-%COMP%]:has(#header){padding-top:76px}body[_ngcontent-%COMP%]:has(#header-home){padding-top:62px}.rd-navbar-spacer[_ngcontent-%COMP%]{height:76px}.rd-navbar-spacer--home[_ngcontent-%COMP%]{height:62px}@media (min-width: 992px){body[_ngcontent-%COMP%]:has(#header-home):has(.academic-dashboard){padding-top:76px!important}}#header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px;height:auto}#header-home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:30px;height:auto}img[_ngcontent-%COMP%]{height:auto;max-width:100%}@media (min-width: 992px){body[_ngcontent-%COMP%]:has(.home-sidebar)   #header-home[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.accordion#menu)   #header-home[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:283px!important}}#searchBar[_ngcontent-%COMP%]{width:100%;max-width:390px}.profile-picture-container[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,.3);box-shadow:0 2px 4px #0000001a;display:flex;align-items:center;justify-content:center;background-color:#f8f9fa}.profile-picture[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;display:block;border-radius:50%}.profile-picture-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%}#notificationDropdown[_ngcontent-%COMP%]{position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffffff1a,#ffffff0d);border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(10px);box-shadow:0 4px 15px #0000001a}#notificationDropdown[_ngcontent-%COMP%]:hover{color:#fff!important;transform:scale(1.1) translateY(-2px);background:linear-gradient(135deg,#fff3,#ffffff1a);box-shadow:0 8px 25px #00000026;border-color:#fff3}#notificationDropdown[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em;transition:all .3s ease}#notificationDropdown[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bellShake .6s ease-in-out}@keyframes _ngcontent-%COMP%_bellShake{0%,to{transform:rotate(0)}10%,30%,50%,70%,90%{transform:rotate(-10deg)}20%,40%,60%,80%{transform:rotate(10deg)}}#notificationDropdown[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-3px;font-size:.65rem;min-width:1.3em;height:1.3em;padding:0;background:linear-gradient(135deg,#ff4757,#ff3838);border:2px solid white;box-shadow:0 3px 8px #ff475766;animation:_ngcontent-%COMP%_notificationPulse 2s infinite;font-weight:700;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_notificationPulse{0%{transform:scale(1);box-shadow:0 3px 8px #ff475766}50%{transform:scale(1.15);box-shadow:0 5px 15px #ff475799}to{transform:scale(1);box-shadow:0 3px 8px #ff475766}}.nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[aria-labelledby=notificationDropdown][_ngcontent-%COMP%]{border:none;box-shadow:0 20px 60px #00000026,0 8px 20px #0000001a;border-radius:16px;padding:0;margin-top:15px;overflow:hidden;animation:_ngcontent-%COMP%_dropdownSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:top center;backdrop-filter:blur(10px);background:#fffffffa}@keyframes _ngcontent-%COMP%_dropdownSlideIn{0%{opacity:0;transform:translateY(-15px) scale(.9);filter:blur(5px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}.navbar-nav[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]{position:static}.navbar-nav[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;left:auto;z-index:1050}@media (max-width: 991.98px){.nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[aria-labelledby=notificationDropdown][_ngcontent-%COMP%]{position:absolute;top:100%;right:0;left:auto;min-width:320px;max-width:350px;margin-top:12px}#notificationDropdown[_ngcontent-%COMP%]{width:40px;height:40px}#notificationDropdown[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1em}}.nav-item.dropdown[_ngcontent-%COMP%]:hover   #notificationDropdown[_ngcontent-%COMP%]{color:#fff}.nav-item.dropdown.show[_ngcontent-%COMP%]   #notificationDropdown[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#ffffff40,#ffffff26);transform:scale(1.05);box-shadow:0 8px 25px #00000026}#notificationDropdown[_ngcontent-%COMP%]:active{transform:scale(.95)}.nav-item.dropdown.show[_ngcontent-%COMP%]   #notificationDropdown[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:50%;transform:translate(-50%);width:20px;height:2px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent);border-radius:2px}@media screen and (max-width: 575.98px){#header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}#header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px}.nav-item[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:1.3em}.nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1em}.profile-picture-container[_ngcontent-%COMP%]{width:30px;height:30px}.nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[aria-labelledby=notificationDropdown][_ngcontent-%COMP%]{min-width:300px;max-width:320px;margin-top:5px}#notificationDropdown[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.6rem;min-width:1em;height:1em}}@media screen and (min-width: 768px){.profile-picture-container[_ngcontent-%COMP%]{width:40px;height:40px}}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba%28255, 255, 255, 1%29' stroke-width='2' linecap='round' linejoin='round' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.nav-item[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:1.5em}.nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 20px #0000001a;border-radius:8px;margin-top:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{transition:all .2s ease}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.security-options-container[_ngcontent-%COMP%], .configuration-container[_ngcontent-%COMP%]{padding-top:3.25rem}.security-options-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .configuration-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:.5rem}.security-options-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .configuration-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.security-options-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .configuration-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:.5rem}.security-options-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{letter-spacing:.05em}`]})}}return e})();var x={production:!0,enableConsoleLogs:!1,useHashRouter:!0};var b=(e,l)=>{let t=F(v),n=F(f),o=n.getIdentity(),i=n.getToken();return o&&i?(t.navigate(["/inicio"]),!1):!0};var ot=[{path:"",loadChildren:()=>import("./chunk-DVA3XJQ6.js").then(e=>e.LandingModule),canActivate:[b]},{path:"login",loadChildren:()=>import("./chunk-XHTXQ7WN.js").then(e=>e.LoginModule),canActivate:[b]},{path:"registro",loadChildren:()=>import("./chunk-MFAF26CC.js").then(e=>e.RegisterModule),canActivate:[b]},{path:"recuperar-pass",loadChildren:()=>import("./chunk-QOH44K3I.js").then(e=>e.RecoverPasswordModule),canActivate:[b]},{path:"buscar",loadChildren:()=>import("./chunk-VC6X5W3Z.js").then(e=>e.SearchModule),canActivate:[b]},{path:"seguridad",loadChildren:()=>import("./chunk-2B6UH37A.js").then(e=>e.SecurityOptionsModule)},{path:"configuracion",loadChildren:()=>import("./chunk-RHOU2JNZ.js").then(e=>e.ConfigurationModule),canActivate:[_]},{path:"configuraci\xF3n",redirectTo:"configuracion",pathMatch:"full"},{path:"reset-password/:token",loadChildren:()=>import("./chunk-EAOS3O2P.js").then(e=>e.ResetPasswordModule)},{path:"inicio",loadChildren:()=>import("./chunk-5FTAV5CW.js").then(e=>e.HomeModule),canActivate:[I]},{path:"error",loadChildren:()=>import("./chunk-Q7AQS4BU.js").then(e=>e.ErrorModule),canActivate:[I]},{path:"notificaciones",loadChildren:()=>import("./chunk-N65R6VUB.js").then(e=>e.NotificationsModule),canActivate:[I]},{path:"perfil",loadChildren:()=>import("./chunk-H2AREYRA.js").then(e=>e.ProfileModule),canActivate:[_]},{path:"mensajes",loadChildren:()=>import("./chunk-25NA4B26.js").then(e=>e.MessageModule),canActivate:[_]},{path:"leccion",loadChildren:()=>import("./chunk-IGRZFZB6.js").then(e=>e.LessonModule),canActivate:[_]},{path:"admin",loadChildren:()=>import("./chunk-74B3FYZQ.js").then(e=>e.AdminModule),canActivate:[_]},{path:"academia",loadChildren:()=>import("./chunk-RG4MVGBR.js").then(e=>e.AcademicModule),canActivate:[_]},{path:"**",loadChildren:()=>import("./chunk-DVA3XJQ6.js").then(e=>e.LandingModule),canActivate:[b]}],ke=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=O({type:e})}static{this.\u0275inj=y({imports:[U.forRoot(ot,{useHash:x.useHashRouter,scrollPositionRestoration:"top",onSameUrlNavigation:"reload",paramsInheritanceStrategy:"always",urlUpdateStrategy:"eager"}),U]})}}return e})();var Se=(()=>{class e{constructor(t,n,o){this._router=t,this._http=n,this._userService=o,this.isTokenExpiredPopupDisplayed=!1}intercept(t,n){let o=localStorage.getItem("token");return o&&o.trim()!==""&&!t.headers.get("Authorization")&&(t=t.clone({setHeaders:{Authorization:o}})),n.handle(t).pipe(V(i=>{console.log("\u{1F6A8} AuthInterceptor: Error",i.status,"on",t.url);let M=i.status===401||i.error&&i.error.message&&(i.error.message.includes("authorization header")||i.error.message.includes("Authorization")||i.error.message.includes("null"))||!i.status&&i.message&&i.message.includes("null")||i.message&&i.message.includes("No hay token de autenticaci\xF3n")||typeof i=="string"&&i.includes("No hay token de autenticaci\xF3n"),j=i.status===403&&(i.error&&(i.error.code==="TOKEN_INVALIDATED"||i.error.code==="TOKEN_OUTDATED")||i.error&&i.error.message&&(i.error.message.toLowerCase().includes("token")||i.error.message.toLowerCase().includes("authorization")));if((M||j)&&!this.isTokenExpiredPopupDisplayed){this.isTokenExpiredPopupDisplayed=!0;let g="La sesi\xF3n ha expirado, por favor iniciar sesi\xF3n de nuevo.";i.error&&i.error.message&&(i.error.message.includes("hasn't got authorization header")?g="Sesi\xF3n no v\xE1lida. Por favor, inicie sesi\xF3n nuevamente.":i.error.message.includes("expired")?g="Su sesi\xF3n ha expirado. Por favor, inicie sesi\xF3n nuevamente.":i.error.message.includes("invalid")?g="Token de sesi\xF3n inv\xE1lido. Por favor, inicie sesi\xF3n nuevamente.":i.error.message.includes("null")&&(g="Sesi\xF3n no v\xE1lida. Por favor, inicie sesi\xF3n nuevamente.")),i.error&&i.error.code==="TOKEN_INVALIDATED"?g="Su cuenta fue actualizada por un administrador. Por favor, inicie sesi\xF3n nuevamente.":i.error&&i.error.code==="TOKEN_OUTDATED"&&(g="Su cuenta fue actualizada. Por favor, inicie sesi\xF3n nuevamente para ver los cambios."),this._userService.clearIdentityAndToken(),sessionStorage.clear(),localStorage.clear(),setTimeout(()=>{this._userService.identityChanged.next(null)},50),alert(g),this._router.navigate(["/login"]).then(()=>{window.location.reload()}),this.isTokenExpiredPopupDisplayed=!1}let Te=i.error&&i.error.message?i.error.message:i.message?i.message:i.statusText?i.statusText:"Error desconocido";return H(()=>Te)}))}static{this.\u0275fac=function(n){return new(n||e)(w(v),w(q),w(f))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})();X(Ce,"es");var Oe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=O({type:e,bootstrap:[Pe]})}static{this.\u0275inj=y({providers:[f,ge,ue,he,fe,E,_e,be,ve,{provide:ee,useClass:Se,multi:!0},{provide:W,useValue:"es"},te(ne())],imports:[oe,re,ae,se,T,ke,de]})}}return e})();var sn=Y(Le(),1),Ee=Y(Me(),1);x.production&&void 0;Ee.locale("es");if(!x.enableConsoleLogs){let e=()=>{};console.log=e,console.info=e,console.debug=e}ie().bootstrapModule(Oe).catch(e=>console.error(e));
