import{a as l}from"./chunk-O2KZDLK6.js";import{a as u}from"./chunk-KOZA5XXI.js";import{H as a,Sb as r,Vb as p,W as h,Z as n,u as o}from"./chunk-3BHHYQXT.js";var v=(()=>{class i{constructor(t,e){this._http=t,this._userService=e,this.url=u.url,this.token=this._userService.getToken()}addMessage(t,e){let s=JSON.stringify(e),c=new r({"Content-Type":"application/json",Authorization:t});return this._http.post(this.url+"message",s,{headers:c})}getReceivedMessages(t,e=1){let s=new r({"Content-Type":"application/json",Authorization:t});return this._http.get(this.url+"my-messages/"+e,{headers:s})}getEmittedMessages(t,e=1){let s=new r({"Content-Type":"application/json",Authorization:t});return this._http.get(this.url+"messages/"+e,{headers:s})}removeMessage(t,e){let s=new r({"Content-Type":"application/json",Authorization:t});return this._http.delete(this.url+"message/"+e,{headers:s})}getUnviewMessages(t){let e=new r({"Content-Type":"application/json",Authorization:t});return this._http.get(this.url+"unviewed-messages",{headers:e}).pipe(a(s=>(console.error("Error in getUnviewMessages:",s),o(()=>s))))}setViewedMessage(t){let e={headers:new r({"Content-Type":"application/json",Authorization:t})};return this._http.put(this.url+"setviewed_messages",null,e)}static{this.\u0275fac=function(e){return new(e||i)(n(p),n(l))}}static{this.\u0275prov=h({token:i,factory:i.\u0275fac})}}return i})();export{v as a};
