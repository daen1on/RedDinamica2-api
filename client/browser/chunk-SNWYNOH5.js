import{a as Y}from"./chunk-N3MRQX7C.js";import{a as J}from"./chunk-QMMCT553.js";import{a as q}from"./chunk-43WXPJ7N.js";import{B as $,c as z,e as A,l as R,s as j,t as D,u as N}from"./chunk-GWDAXWU7.js";import{Da as d,Hb as T,Ib as G,Jb as V,Na as r,Oa as i,Ob as F,Pa as p,Rb as U,Ta as v,Ua as u,Va as l,ba as f,bc as B,ca as x,eb as s,ec as W,fb as h,gb as C,jb as w,kb as L,lb as S,pa as a,sa as y,sb as E,ta as I,ub as P,y as k,ya as _}from"./chunk-3BHHYQXT.js";function K(n,m){if(n&1){let e=v();r(0,"button",31),u("click",function(){f(e);let o=l();return x(o.createNewLesson())}),p(1,"i",32),s(2,"Nueva Lecci\xF3n "),i()}}function Q(n,m){if(n&1&&(r(0,"option",34),s(1),i()),n&2){let e=m.$implicit;d("value",e._id),a(),h(e.name)}}function X(n,m){if(n&1){let e=v();r(0,"div",13)(1,"select",14),S("ngModelChange",function(o){f(e);let c=l();return L(c.filterGroup,o)||(c.filterGroup=o),x(o)}),u("change",function(){f(e);let o=l();return x(o.applyFilters())}),r(2,"option",15),s(3,"\u{1F465} Todos los grupos"),i(),_(4,Q,2,2,"option",33),i()()}if(n&2){let e=l();a(),w("ngModel",e.filterGroup),a(3),d("ngForOf",e.teacherGroups)}}function Z(n,m){n&1&&(r(0,"div",36),p(1,"i",39),r(2,"span"),s(3,"Filtros activos"),i()())}function ee(n,m){if(n&1&&(r(0,"div",35)(1,"div",36),p(2,"i",37),r(3,"span")(4,"strong"),s(5),i(),s(6," lecciones"),i()(),_(7,Z,4,0,"div",38),i()),n&2){let e=l();a(5),h(e.filteredLessons.length),a(2),d("ngIf",e.searchTerm||e.filterStatus||e.filterGroup)}}function te(n,m){if(n&1){let e=v();r(0,"div",40),p(1,"i",41),s(2),r(3,"button",42),u("click",function(){f(e);let o=l();return x(o.errorMessage="")}),i()()}if(n&2){let e=l();a(2),C("",e.errorMessage," ")}}function ne(n,m){n&1&&(r(0,"div",43)(1,"div",44)(2,"span",45),s(3,"Cargando..."),i()(),r(4,"p",46),s(5,"Cargando lecciones..."),i()())}function ie(n,m){if(n&1&&(r(0,"span",77),s(1),i()),n&2){let e=l().$implicit;a(),C(" ",e.academicSettings.academicLevel," ")}}function re(n,m){if(n&1&&(r(0,"span",78),p(1,"i",79),s(2),i()),n&2){let e=l().$implicit;a(2),C(" ",e.grade,"/5 ")}}function oe(n,m){n&1&&(r(0,"span",80),p(1,"i",81),s(2," Exportada "),i())}function ae(n,m){if(n&1){let e=v();r(0,"li")(1,"a",63),u("click",function(){f(e);let o=l().$implicit,c=l(2);return x(c.editLesson(o))}),p(2,"i",82),s(3,"Editar "),i()()}}function se(n,m){n&1&&(r(0,"li"),p(1,"hr",83),i())}function ce(n,m){if(n&1){let e=v();r(0,"li")(1,"a",84),u("click",function(){f(e);let o=l().$implicit,c=l(2);return x(c.deleteLesson(o._id))}),p(2,"i",85),s(3,"Eliminar "),i()()}}function le(n,m){if(n&1&&(r(0,"div",69),p(1,"i",86),r(2,"div")(3,"small",71),s(4,"Colaboradores"),i(),r(5,"strong"),s(6),i()()()),n&2){let e=l().$implicit;a(6),h(e.development_group.length)}}function de(n,m){if(n&1&&(r(0,"span",91),s(1),i()),n&2){let e=m.$implicit;a(),C(" ",e.name||e," ")}}function me(n,m){if(n&1&&(r(0,"div",87)(1,"small",88),s(2,"\xC1reas de conocimiento:"),i(),r(3,"div",89),_(4,de,2,1,"span",90),i()()),n&2){let e=l().$implicit;a(4),d("ngForOf",e.knowledge_areas)}}function pe(n,m){if(n&1){let e=v();r(0,"button",98),u("click",function(){f(e);let o=l(2).$implicit,c=l(2);return x(c.approveLesson(o._id))}),p(1,"i",99),s(2,"Aprobar "),i()}}function ge(n,m){if(n&1){let e=v();r(0,"button",100),u("click",function(){f(e);let o=l(2).$implicit,c=l(2);return x(c.rejectLesson(o._id))}),p(1,"i",101),s(2,"Rechazar "),i()}}function _e(n,m){if(n&1){let e=v();r(0,"button",102),u("click",function(){f(e);let o=l(2).$implicit,c=l(2);return x(c.gradeLesson(o._id))}),p(1,"i",103),s(2,"Calificar "),i()}}function ue(n,m){if(n&1){let e=v();r(0,"button",104),u("click",function(){f(e);let o=l(2).$implicit,c=l(2);return x(c.requestExport(o._id))}),p(1,"i",105),s(2,"Solicitar exportaci\xF3n "),i()}}function fe(n,m){if(n&1&&(r(0,"div",92)(1,"div",93),_(2,pe,3,0,"button",94)(3,ge,3,0,"button",95)(4,_e,3,0,"button",96)(5,ue,3,0,"button",97),i()()),n&2){let e=l().$implicit,t=l(2);a(2),d("ngIf",t.canApprove(e)),a(),d("ngIf",t.canApprove(e)),a(),d("ngIf",t.canGrade(e)),a(),d("ngIf",t.canRequestExport(e))}}function xe(n,m){if(n&1){let e=v();r(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"h3",53),u("click",function(){let o=f(e).$implicit,c=l(2);return x(c.viewLessonDetails(o._id))}),s(5),i(),r(6,"div",54)(7,"span",55),s(8),i(),_(9,ie,2,1,"span",56)(10,re,3,1,"span",57)(11,oe,3,0,"span",58),i()(),r(12,"div",59)(13,"button",60),p(14,"i",61),i(),r(15,"ul",62)(16,"li")(17,"a",63),u("click",function(){let o=f(e).$implicit,c=l(2);return x(c.viewLessonDetails(o._id))}),p(18,"i",64),s(19,"Ver detalles "),i()(),_(20,ae,4,0,"li",65)(21,se,2,0,"li",65)(22,ce,4,0,"li",65),i()()()(),r(23,"div",66)(24,"p",67),s(25),i(),r(26,"div",68)(27,"div",69),p(28,"i",70),r(29,"div")(30,"small",71),s(31,"Autor"),i(),r(32,"strong"),s(33),i()()(),r(34,"div",69),p(35,"i",72),r(36,"div")(37,"small",71),s(38,"Grupo"),i(),r(39,"strong"),s(40),i()()(),_(41,le,7,1,"div",73),r(42,"div",69),p(43,"i",74),r(44,"div")(45,"small",71),s(46,"Actualizada"),i(),r(47,"strong"),s(48),E(49,"date"),i()()()(),_(50,me,5,1,"div",75),i(),_(51,fe,6,4,"div",76),i()}if(n&2){let e=m.$implicit,t=l(2);a(5),C(" ",e.title," "),a(2),d("ngClass","badge-"+t.getStatusColor(e.status)),a(),C(" ",t.getStatusLabel(e.status)," "),a(),d("ngIf",e.academicSettings==null?null:e.academicSettings.academicLevel),a(),d("ngIf",e.grade),a(),d("ngIf",e.isExported),a(9),d("ngIf",t.canEdit(e)),a(),d("ngIf",t.canDelete(e)),a(),d("ngIf",t.canDelete(e)),a(3),h(e.resume),a(8),h(t.displayUserName(e.author)),a(7),h(t.displayGroupName(e.academicGroup)),a(),d("ngIf",e.development_group==null?null:e.development_group.length),a(7),h(P(49,16,e.updatedAt,"short")),a(2),d("ngIf",e.knowledge_areas==null?null:e.knowledge_areas.length),a(),d("ngIf",t.hasTeacherAction(e))}}function ve(n,m){if(n&1&&(r(0,"div",47),_(1,xe,52,19,"div",48),i()),n&2){let e=l();a(),d("ngForOf",e.filteredLessons)}}function be(n,m){n&1&&(r(0,"span"),s(1," Intenta ajustar los filtros para ver m\xE1s resultados. "),i())}function he(n,m){n&1&&(r(0,"span"),s(1," Comienza creando tu primera lecci\xF3n acad\xE9mica colaborativa. "),i())}function Ce(n,m){n&1&&(r(0,"span"),s(1," No hay lecciones asignadas a tus grupos acad\xE9micos. "),i())}function Me(n,m){if(n&1){let e=v();r(0,"button",113),u("click",function(){f(e);let o=l(2);return x(o.createNewLesson())}),p(1,"i",32),s(2,"Crear Primera Lecci\xF3n "),i()}}function ye(n,m){if(n&1){let e=v();r(0,"button",114),u("click",function(){f(e);let o=l(2);return x(o.clearFilters())}),p(1,"i",115),s(2,"Limpiar Filtros "),i()}}function we(n,m){if(n&1&&(r(0,"div",106)(1,"div",107)(2,"div",108),p(3,"i",109),i(),r(4,"h3"),s(5),i(),r(6,"p",110),_(7,be,2,0,"span",65)(8,he,2,0,"span",65)(9,Ce,2,0,"span",65),i(),_(10,Me,3,0,"button",111)(11,ye,3,0,"button",112),i()()),n&2){let e=l();a(5),h(e.searchTerm||e.filterStatus||e.filterGroup?"No se encontraron lecciones":"No hay lecciones a\xFAn"),a(2),d("ngIf",e.searchTerm||e.filterStatus||e.filterGroup),a(),d("ngIf",!e.searchTerm&&!e.filterStatus&&!e.filterGroup&&e.userRole==="student"),a(),d("ngIf",!e.searchTerm&&!e.filterStatus&&!e.filterGroup&&e.userRole==="teacher"),a(),d("ngIf",e.userRole==="student"&&!e.searchTerm&&!e.filterStatus&&!e.filterGroup),a(),d("ngIf",e.searchTerm||e.filterStatus||e.filterGroup)}}var Ue=(()=>{class n{constructor(e,t,o,c){this.academicLessonService=e,this.academicGroupService=t,this.router=o,this._userService=c,this.lessons=[],this.filteredLessons=[],this.teacherGroups=[],this.loading=!1,this.errorMessage="",this.userRole="",this.currentUserId="",this.userCache={},this.requestedUserIds=new Set,this.searchTerm="",this.filterStatus="",this.filterGroup=""}ngOnInit(){this.loadUserInfo(),this.loadData()}loadUserInfo(){let e=localStorage.getItem("user")||localStorage.getItem("identity")||"{}";try{let t=JSON.parse(e);this.userRole=t.role||"",this.currentUserId=t._id||t.id||t.uid||""}catch{this.userRole="",this.currentUserId=""}}loadData(){this.loading=!0,k({teacherGroups:this.academicGroupService.getTeacherGroups(),myLessons:this.academicLessonService.getMyLessons(),teacherLessons:this.academicLessonService.getTeacherLessons()}).subscribe({next:e=>{e.teacherGroups?.status==="success"?this.teacherGroups=e.teacherGroups.data||[]:this.teacherGroups=[];let t=e.myLessons?.status==="success"?e.myLessons.data||[]:[],o=e.teacherLessons?.status==="success"?e.teacherLessons.data||[]:[],c={};for(let g of[...t,...o]){let M=g?._id||"";M&&!c[M]&&(c[M]=g)}this.lessons=Object.values(c),this.enrichLessonsAuthors(this.lessons),this.applyFilters()},error:e=>{console.error("Error loading lessons/groups:",e),this.errorMessage="Error al cargar las lecciones"},complete:()=>{this.loading=!1}})}applyFilters(){this.filteredLessons=this.lessons.filter(e=>{let t=!this.searchTerm||e.title.toLowerCase().includes(this.searchTerm.toLowerCase())||e.resume.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.filterStatus||e.status===this.filterStatus,c=this.getIdFromRef(e?.academicGroup),g=!this.filterGroup||c===this.filterGroup;return t&&o&&g})}clearFilters(){this.searchTerm="",this.filterStatus="",this.filterGroup="",this.applyFilters()}getFilteredLessons(){return this.filteredLessons}createNewLesson(){this.router.navigate(["/academia/lessons/create"])}viewLessonDetails(e){this.router.navigate(["/academia/lessons",e])}editLesson(e){this.router.navigate(["/academia/lessons",e._id,"edit"])}deleteLesson(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar esta lecci\xF3n?")&&this.academicLessonService.deleteLesson(e).subscribe({next:t=>{t.status==="success"&&this.loadData()},error:t=>{console.error("Error deleting lesson:",t),this.errorMessage="Error al eliminar la lecci\xF3n"}})}approveLesson(e){this.academicLessonService.approveLesson(e,{feedback:"Lecci\xF3n aprobada"}).subscribe({next:t=>{t.status==="success"&&this.loadData()},error:t=>{console.error("Error approving lesson:",t),this.errorMessage="Error al aprobar la lecci\xF3n"}})}rejectLesson(e){this.academicLessonService.rejectLesson(e,"Lecci\xF3n rechazada").subscribe({next:t=>{t.status==="success"&&this.loadData()},error:t=>{console.error("Error rejecting lesson:",t),this.errorMessage="Error al rechazar la lecci\xF3n"}})}gradeLesson(e){console.log("Grading lesson:",e)}requestExport(e){this.academicLessonService.requestExport(e).subscribe({next:t=>{t.status==="success"&&this.loadData()},error:t=>{console.error("Error requesting export:",t),this.errorMessage="Error al solicitar la exportaci\xF3n de la lecci\xF3n"}})}canEdit(e){let t=this.getCurrentUserId();return!t||!e||!e.author?!1:typeof e.author=="string"?e.author===t:e.author._id===t}canDelete(e){let t=this.getCurrentUserId();return!t||!e||!e.author?!1:typeof e.author=="string"?e.author===t:e.author._id===t}canApprove(e){let t=this.getIdFromRef(e?.academicGroup?.teacher);return!!t&&t===this.currentUserId&&e.status==="proposed"}canGrade(e){let t=this.getIdFromRef(e?.academicGroup?.teacher);return!!t&&t===this.currentUserId&&e.status==="completed"}canRequestExport(e){let t=this.getIdFromRef(e?.academicGroup?.teacher);return!!t&&t===this.currentUserId&&e.status==="graded"&&!e?.isExported&&e?.state!=="ready_for_migration"}hasTeacherAction(e){return this.canApprove(e)||this.canGrade(e)||this.canRequestExport(e)}getCurrentUserId(){return this.currentUserId||""}getIdFromRef(e){if(!e)return"";if(typeof e=="string")return String(e);if(typeof e=="object"){if(e._id||e.id)return String(e._id||e.id);if(e.user&&(e.user._id||e.user.id))return String(e.user._id||e.user.id)}return""}displayUserName(e){if(!e)return"Usuario";if(typeof e=="string"){let c=this.userCache[e];if(c){let g=c.email?` <${c.email}>`:"";return`${c.name||"Usuario"}${g}`}return"Usuario"}let t=e.name||"Usuario",o=e.email?` <${e.email}>`:"";return`${t}${o}`}enrichLessonsAuthors(e){if(Array.isArray(e))for(let t of e){let o=t?.author;if(o&&typeof o=="string"){let c=o,g=this.userCache[c];if(g){t.author=g;continue}if(this.requestedUserIds.has(c))continue;this.requestedUserIds.add(c),this._userService.getUser(c).subscribe({next:M=>{let b=M?.user;if(!b)return;let H=b.name&&b.surname?`${b.name} ${b.surname}`:b.name||b.surname||b.nick||"Usuario",O={_id:b._id,name:H,email:b.email};this.userCache[c]=O,t.author=O},error:()=>{}})}}}displayGroupName(e){return e?typeof e=="string"?e:e.name||"Grupo":"Grupo"}getStatusColor(e){return{draft:"draft",proposed:"proposed",approved:"approved",rejected:"rejected",in_development:"in_development",completed:"completed",graded:"graded"}[e]||"draft"}getStatusLabel(e){return{draft:"Borrador",proposed:"Propuesta",approved:"Aprobada",in_development:"En desarrollo",rejected:"Rechazada",completed:"Completada",graded:"Calificada"}[e]||e}getStatusBadgeClass(e){return{draft:"badge-secondary",proposed:"badge-warning",approved:"badge-success",rejected:"badge-danger",completed:"badge-info",graded:"badge-primary"}[e]||"badge-secondary"}getLevelLabel(e){return{Colegio:"Colegio",Universidad:"Universidad"}[e]||e}static{this.\u0275fac=function(t){return new(t||n)(y(J),y(Y),y(B),y(q))}}static{this.\u0275cmp=I({type:n,selectors:[["app-lesson-management"]],decls:41,vars:10,consts:[[1,"lesson-management-container"],[1,"page-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"page-title"],[1,"fas","fa-book-reader","me-3"],[1,"page-subtitle","text-muted"],["class","btn btn-primary btn-lg",3,"click",4,"ngIf"],[1,"filters-card"],[1,"row","g-3"],[1,"col-lg-5","col-md-6"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Buscar por t\xEDtulo o descripci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-3","col-md-6"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","draft"],["value","proposed"],["value","rejected"],["value","in_development"],["value","completed"],["value","graded"],["class","col-lg-3 col-md-6",4,"ngIf"],[1,"col-lg-1","col-md-6"],["title","Limpiar filtros",1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"fas","fa-redo-alt"],["class","stats-row mt-3",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","lessons-grid",4,"ngIf"],["class","empty-state-card",4,"ngIf"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-plus","me-2"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"stats-row","mt-3"],[1,"stat-item"],[1,"fas","fa-book"],["class","stat-item",4,"ngIf"],[1,"fas","fa-filter"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"loading-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mt-3"],[1,"lessons-grid"],["class","lesson-card",4,"ngFor","ngForOf"],[1,"lesson-card"],[1,"lesson-card-header"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1"],[1,"lesson-card-title",2,"cursor","pointer",3,"click"],[1,"lesson-badges","mt-2"],[1,"badge",3,"ngClass"],["class","badge bg-secondary",4,"ngIf"],["class","badge bg-warning text-dark",4,"ngIf"],["class","badge bg-success",4,"ngIf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-outline-secondary","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fas","fa-eye","me-2"],[4,"ngIf"],[1,"lesson-card-body"],[1,"lesson-description"],[1,"lesson-info-grid"],[1,"info-item"],[1,"fas","fa-user","text-primary"],[1,"text-muted","d-block"],[1,"fas","fa-users","text-success"],["class","info-item",4,"ngIf"],[1,"fas","fa-clock","text-warning"],["class","knowledge-areas mt-3",4,"ngIf"],["class","lesson-card-footer",4,"ngIf"],[1,"badge","bg-secondary"],[1,"badge","bg-warning","text-dark"],[1,"fas","fa-star"],[1,"badge","bg-success"],[1,"fas","fa-upload"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],[1,"fas","fa-user-friends","text-info"],[1,"knowledge-areas","mt-3"],[1,"text-muted","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-1"],["class","badge bg-light text-dark",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark"],[1,"lesson-card-footer"],[1,"d-flex","flex-wrap","gap-2"],["class","btn btn-sm btn-success",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["class","btn btn-sm btn-warning",3,"click",4,"ngIf"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-check","me-1"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times","me-1"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"fas","fa-star","me-1"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-paper-plane","me-1"],[1,"empty-state-card"],[1,"empty-state-content"],[1,"empty-icon"],[1,"fas","fa-book-open"],[1,"text-muted"],["class","btn btn-primary btn-lg mt-3",3,"click",4,"ngIf"],["class","btn btn-outline-secondary mt-3",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-lg","mt-3",3,"click"],[1,"btn","btn-outline-secondary","mt-3",3,"click"],[1,"fas","fa-redo-alt","me-2"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),p(5,"i",4),s(6,"Gesti\xF3n de Lecciones Acad\xE9micas "),i(),r(7,"p",5),s(8),i()(),_(9,K,3,0,"button",6),i()(),r(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),p(14,"i",11),r(15,"input",12),S("ngModelChange",function(g){return L(o.searchTerm,g)||(o.searchTerm=g),g}),u("ngModelChange",function(){return o.applyFilters()}),i()()(),r(16,"div",13)(17,"select",14),S("ngModelChange",function(g){return L(o.filterStatus,g)||(o.filterStatus=g),g}),u("change",function(){return o.applyFilters()}),r(18,"option",15),s(19,"Todos los estados"),i(),r(20,"option",16),s(21,"Borrador"),i(),r(22,"option",17),s(23,"Propuesta"),i(),r(24,"option",18),s(25," Rechazada"),i(),r(26,"option",19),s(27," En desarrollo"),i(),r(28,"option",20),s(29," Completada"),i(),r(30,"option",21),s(31," Calificada"),i()()(),_(32,X,5,2,"div",22),r(33,"div",23)(34,"button",24),u("click",function(){return o.clearFilters()}),p(35,"i",25),i()()(),_(36,ee,8,2,"div",26),i(),_(37,te,4,1,"div",27)(38,ne,6,0,"div",28)(39,ve,2,1,"div",29)(40,we,12,6,"div",30),i()),t&2&&(a(8),C(" ",o.userRole==="student"?"Administra tus lecciones y proyectos colaborativos":"Supervisa las lecciones de tus grupos"," "),a(),d("ngIf",o.userRole==="student"),a(6),w("ngModel",o.searchTerm),a(2),w("ngModel",o.filterStatus),a(15),d("ngIf",(o.teacherGroups==null?null:o.teacherGroups.length)>0),a(4),d("ngIf",o.filteredLessons.length>0),a(),d("ngIf",o.errorMessage),a(),d("ngIf",o.loading),a(),d("ngIf",!o.loading&&o.filteredLessons.length>0),a(),d("ngIf",!o.loading&&o.filteredLessons.length===0))},dependencies:[U,T,G,V,F,$,D,N,z,j,A,R,W],styles:["[_ngcontent-%COMP%]:root{--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--bg-tertiary: #e9ecef;--text-primary: #212529;--text-secondary: #6c757d;--text-muted: #868e96;--border-color: #dee2e6;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .08);--shadow-md: 0 4px 16px rgba(0, 0, 0, .12);--card-hover-shadow: 0 8px 24px rgba(0, 0, 0, .15)}[data-bs-theme=dark][_ngcontent-%COMP%]{--bg-primary: #212529;--bg-secondary: #343a40;--bg-tertiary: #495057;--text-primary: #f8f9fa;--text-secondary: #adb5bd;--text-muted: #868e96;--border-color: #495057;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--card-hover-shadow: 0 8px 24px rgba(0, 0, 0, .5)}.lesson-management-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;background:var(--bg-secondary);min-height:100vh}.page-header[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:12px;padding:32px;margin-bottom:24px;box-shadow:var(--shadow-sm);border-left:4px solid #007bff}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);margin-bottom:8px;display:flex;align-items:center}.page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;color:var(--text-secondary)}.filters-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:var(--shadow-sm);border:1px solid var(--border-color)}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:var(--text-muted);z-index:10}.search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:48px;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-primary)}.search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{background:var(--bg-primary);border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.form-select[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-primary)}.form-select[_ngcontent-%COMP%]:focus{background:var(--bg-primary);border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.stats-row[_ngcontent-%COMP%]{display:flex;gap:24px;padding-top:16px;border-top:1px solid var(--border-color)}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--text-secondary);font-size:.95rem}.stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:400px}.lessons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:24px}.lesson-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:12px;box-shadow:var(--shadow-sm);transition:all .3s ease;overflow:hidden;border:1px solid var(--border-color);display:flex;flex-direction:column}.lesson-card[_ngcontent-%COMP%]:hover{box-shadow:var(--card-hover-shadow);transform:translateY(-4px)}.lesson-card-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-color)}.lesson-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary);margin-bottom:0;transition:color .2s ease}.lesson-card-title[_ngcontent-%COMP%]:hover{color:#007bff}.lesson-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.lesson-card-body[_ngcontent-%COMP%]{padding:20px;flex:1}.lesson-description[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.lesson-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0;margin-top:4px}.info-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-primary);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.knowledge-areas[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-weight:500;font-size:.75rem}.lesson-card-footer[_ngcontent-%COMP%]{padding:16px 20px;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.badge-draft[_ngcontent-%COMP%]{background-color:#6c757d!important;color:#fff!important}.badge-proposed[_ngcontent-%COMP%]{background-color:#ffc107!important;color:#212529!important}.badge-approved[_ngcontent-%COMP%], .badge-assigned[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff!important}.badge-rejected[_ngcontent-%COMP%]{background-color:#dc3545!important;color:#fff!important}.badge-in_development[_ngcontent-%COMP%], .badge-development[_ngcontent-%COMP%]{background-color:#17a2b8!important;color:#fff!important}.badge-completed[_ngcontent-%COMP%]{background-color:#007bff!important;color:#fff!important}.badge-graded[_ngcontent-%COMP%], .badge-test[_ngcontent-%COMP%]{background-color:#6610f2!important;color:#fff!important}.empty-state-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:12px;padding:80px 40px;box-shadow:var(--shadow-sm);border:2px dashed var(--border-color)}.empty-state-content[_ngcontent-%COMP%]{text-align:center;max-width:500px;margin:0 auto}.empty-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--text-muted);margin-bottom:24px;opacity:.5}.empty-state-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary);margin-bottom:12px}.empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6}[data-bs-theme=dark][_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border-color:var(--border-color)}[data-bs-theme=dark][_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:var(--text-primary)}[data-bs-theme=dark][_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:var(--bg-tertiary)}[data-bs-theme=dark][_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{border-color:var(--border-color)}[data-bs-theme=dark][_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#dc354533;border-color:#dc3545;color:#ff6b6b}[data-bs-theme=dark][_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:var(--text-secondary);border-color:var(--border-color)}[data-bs-theme=dark][_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--bg-tertiary);color:var(--text-primary)}@media (max-width: 1200px){.lessons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(340px,1fr))}}@media (max-width: 768px){.lesson-management-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem}.filters-card[_ngcontent-%COMP%]{padding:16px}.lessons-grid[_ngcontent-%COMP%], .lesson-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}@media (max-width: 576px){.lesson-badges[_ngcontent-%COMP%]{font-size:.75rem}.lesson-card-title[_ngcontent-%COMP%]{font-size:1.1rem}.empty-state-card[_ngcontent-%COMP%]{padding:40px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:3.5rem}}"]})}}return n})();export{Ue as a};
